mun = mun |>
dplyr::select(CVEGEO, NOM_MUN) |>
dplyr::left_join(y = git, by = c("NOM_ENT" == "nombre_principal"))
mun = mun |>
dplyr::select(CVEGEO, NOM_MUN) |>
dplyr::left_join(y = git, by = c("NOM_ENT" = "nombre_principal"))
View(mun)
mun = mun |>
dplyr::select(CVEGEO, NOM_MUN) |>
dplyr::left_join(y = git, by = c("NOM_ENT" = "nombre_principal"))
mun = mun |>
dplyr::select(CVEGEO, NOM_MUN) |>
dplyr::left_join(y = git, by = c("NOM_MUN" = "nombre_principal"))
View(mun)
names(git)
mun = mun |>
dplyr::select(CVEGEO, NOM_MUN) |>
dplyr::left_join(y = git, by = c("NOM_MUN" = "nombre_principal")) |>
relocate(links, .after = NOM_MUN)
View(mun)
leaflet() |>  addTiles() |>  addPolylines(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
)
leaflet() |>  addTiles() |>  addPolylines(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
)
library(leaflet)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
opacity = 0
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.1
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.1,
weight = 1
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "",
fillColor = "black",
fillOpacity = 0.1,
weight = 1
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.1,
weight = 1
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "",
fillOpacity = 0.1,
weight = 1
)
leaflet() |>  addTiles() |>  addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.01,
weight = 1
)
leaflet() |> addTiles() |> addRasterImage(infraestructura,opacity = 0.7) |>
addRasterLegend(x = infraestructura)
infraestructura
leaflet() |> addTiles() |> addRasterImage(infraestructura, colors = paleta, opacity = 0.7) |>
addRasterLegend(pal = paleta, values = raster::values(infraestructura), title = "Elevación (m)", position = "bottomright" )
leaflet() |> addTiles() |> addRasterImage(x = infraestructura, colors = paleta, opacity = 0.7) |>
addRasterLegend(pal = paleta, values = raster::values(infraestructura), title = "Elevación (m)", position = "bottomright" )
paleta = colorNumeric(
palette = "viridis",
domain = raster::values(infraestructura),
na.color = "transparent"
)
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura, colors = paleta, opacity = 0.7)
infraestructura
####
raster::plot(infraestructura)
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura,  opacity = 0.7) |>
addRasterLegend(values = raster::values(infraestructura), title = "Elevación (m)", position = "bottomright" )
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura,  opacity = 0.7)
raster::colortable(infraestructura)
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura,  opacity = 0.7) |>
addRasterLegend(pal = raster::colortable(infraestructura), values = raster::values(infraestructura), title = "Elevación (m)", position = "bottomright" )
pal <- raster::colortable(infraestructura)  # Colores originales
leaflet() |>
addTiles() |>
addRasterImage(
infraestructura,
colors = pal,        # Aplica la paleta original
opacity = 0.7
) |>
addRasterLegend(
infraestructura,     # PASAR EL RASTER, no solo la paleta
pal = pal,
title = "Elevación (m)",
position = "bottomright"
)
mapa = leaflet() |>
addTiles() |>
addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.01,
weight = 1
) |>
addRasterImage(infraestructura, opacity = 0.7, group = "Percepción infraestructuravial") |>
addRasterImage(viajes, opacity = 0.7, group = "Nivel de uso por numero de viaje") |>
addRasterImage(correlacion, opacity = 0.7, group = "Correlación Rasters") |>
addRasterImage(correlacion_dos, opacity = 0.7, group = "Correlación Rasters Modificado") |>
addLayersControl(
baseGroups = c("Percepción infraestructuravial", "Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"),
options = layersControlOptions(collapsed = FALSE)
) |>
hideGroup(c("Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"))
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura,  opacity = 0.7) |>
addRasterLegend(x = infraestructura,pal = raster::colortable(infraestructura), values = raster::values(infraestructura), title = "Elevación (m)", position = "bottomright" )
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura,  opacity = 0.7) |>
addRasterLegend(x = infraestructura, pal = raster::colortable(infraestructura), title = "Elevación (m)", position = "bottomright" )
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura,  opacity = 0.7) |>
addRasterLegend(x = infraestructura)
leaflet() |> addTiles() |>
addRasterImage(x = infraestructura,  opacity = 0.7)
leaflet::leaflet() |> leaflet::addTiles() |>
leaflet::addRasterImage(x = infraestructura,  opacity = 0.7) |>
leaflet::addRasterLegend(x = infraestructura)
infraestructura = terra::rast(infraestructura)
leaflet::leaflet() |> leaflet::addTiles() |>
leaflet::addRasterImage(x = infraestructura,  opacity = 0.7) |>
leaflet::addRasterLegend(x = infraestructura)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
leaflet::leaflet() |> leaflet::addTiles() |>
leaflet::addRasterImage(x = infraestructura,  opacity = 0.7) |>
leaflet::addRasterLegend(x = infraestructura)
infraestructura = terra::rast(infraestructura)
leaflet::leaflet() |> leaflet::addTiles() |>
leaflet::addRasterImage(x = infraestructura,  opacity = 0.7) |>
leaflet::addRasterLegend(x = infraestructura)
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |> terra::rast()
proyeccion = raster::raster("../../Importantes_documentos_usar/Accesibilidad/carreteras.tif")
proyeccion = terra::rast(proyeccion)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
viajes = raster::raster("Datos/nivel_de_uso_proxy_de_numero_de_viajes.tif")
correlacion = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes.tif")
correlacion_dos = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes_con_menos1.tif")
infraestructura = raster::disaggregate(x = infraestructura, fact = 3)
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |> terra::rast()
leaflet::leaflet() |> leaflet::addTiles() |>
leaflet::addRasterImage(x = infraestructura,  opacity = 0.7) |>
leaflet::addRasterLegend(x = infraestructura)
proyeccion = raster::raster("../../Importantes_documentos_usar/Accesibilidad/carreteras.tif")
proyeccion = terra::rast(proyeccion)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
viajes = raster::raster("Datos/nivel_de_uso_proxy_de_numero_de_viajes.tif")
correlacion = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes.tif")
correlacion_dos = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes_con_menos1.tif")
infraestructura = raster::disaggregate(x = infraestructura, fact = 3)
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |> terra::rast()
viajes = raster::projectRaster(viajes, crs = raster::crs(proyeccion))
correlacion = raster::projectRaster(correlacion, crs = raster::crs(proyeccion))
correlacion_dos = raster::projectRaster(correlacion_dos, crs = raster::crs(proyeccion))
terra::plot(infraestructura)
leaflet::leaflet() |> leaflet::addTiles() |>
leaflet::addRasterImage(x = infraestructura,  opacity = 0.7)
leaflet::leaflet() |> leaflet::addTiles() |>
leaflet::addRasterImage(x = infraestructura,  opacity = 0.7) |>
leaflet::addRasterLegend(x = infraestructura)
proyeccion = raster::raster("../../Importantes_documentos_usar/Accesibilidad/carreteras.tif")
proyeccion = terra::rast(proyeccion)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
viajes = raster::raster("Datos/nivel_de_uso_proxy_de_numero_de_viajes.tif")
correlacion = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes.tif")
correlacion_dos = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes_con_menos1.tif")
infraestructura = raster::disaggregate(x = infraestructura, fact = 3)
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |> terra::rast()
terra::coltab(infraestructura)
proyeccion = raster::raster("../../Importantes_documentos_usar/Accesibilidad/carreteras.tif")
proyeccion = terra::rast(proyeccion)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
viajes = raster::raster("Datos/nivel_de_uso_proxy_de_numero_de_viajes.tif")
correlacion = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes.tif")
correlacion_dos = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes_con_menos1.tif")
infraestructura = raster::disaggregate(x = infraestructura, fact = 3)
raster::colortable(infraestructura)
proyeccion = raster::raster("../../Importantes_documentos_usar/Accesibilidad/carreteras.tif")
proyeccion = terra::rast(proyeccion)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
viajes = raster::raster("Datos/nivel_de_uso_proxy_de_numero_de_viajes.tif")
correlacion = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes.tif")
correlacion_dos = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes_con_menos1.tif")
raster::colortable(infraestructura)
coltab <- colortable(infraestructura)
raster::colortable(infraestructura)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
raster::colortable(x = infraestructura)
raster::plot(infraestructura)
raster::plot(viajes)
raster::plot(correlacion)
raster::plot(correlacion_dos)
mapa = leaflet() |>
addTiles() |>
addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.01,
weight = 1
) |>
addRasterImage(infraestructura, opacity = 0.7, group = "Percepción infraestructuravial") |>
addRasterImage(viajes, opacity = 0.7, group = "Nivel de uso por numero de viaje") |>
addRasterImage(correlacion, opacity = 0.7, group = "Correlación Rasters") |>
addRasterImage(correlacion_dos, opacity = 0.7, group = "Correlación Rasters Modificado") |>
addLayersControl(
overlayGroups = c("Percepción infraestructuravial", "Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"),
options = layersControlOptions(collapsed = FALSE)
) |>
hideGroup(c("Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"))
mapa
leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
### Paletas de colores
paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(values = raster::values(infraestructura), pal = paleta_infraestructura, title = "Percepción infraestructuravial")
### Paletas de colores
paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(x = infraestructura,values = raster::values(infraestructura), pal = paleta_infraestructura, title = "Percepción infraestructuravial")
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(x = infraestructura,values = raster::values(infraestructura), pal = paleta_infraestructura,
title = "Percepción infraestructuravial", position = "bottomright")
### Paletas de colores
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion))
paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(x = infraestructura,values = raster::values(infraestructura), pal = paleta_infraestructura,
title = "Percepción infraestructuravial", position = "bottomright")
### Paletas de colores
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion))
paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
mapa = leaflet() |>
addTiles() |>
addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.01,
weight = 1
) |>
addRasterImage(infraestructura, opacity = 0.7, group = "Percepción infraestructuravial") |>
addRasterImage(viajes, opacity = 0.7, group = "Nivel de uso por numero de viaje") |>
addRasterImage(correlacion, opacity = 0.7, group = "Correlación Rasters") |>
addRasterImage(correlacion_dos, opacity = 0.7, group = "Correlación Rasters Modificado") |>
addLayersControl(
overlayGroups = c("Percepción infraestructuravial", "Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"),
options = layersControlOptions(collapsed = FALSE)
) |>
hideGroup(c("Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"))
mapa
### Paletas de colores
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |>  terra::rast()
paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(values = raster::values(infraestructura), pal = paleta_infraestructura,
title = "Percepción infraestructuravial", position = "bottomright")
htmlwidgets::saveWidget(mapa, "Mapa_web_Vialidades_Raster.html",selfcontained = T, title = "Vialidades")
proyeccion = raster::raster("../../Importantes_documentos_usar/Accesibilidad/carreteras.tif")
proyeccion = terra::rast(proyeccion)
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
viajes = raster::raster("Datos/nivel_de_uso_proxy_de_numero_de_viajes.tif")
correlacion = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes.tif")
correlacion_dos = raster::raster("Datos/correlacion_infraestructura_con_numero_de_viajes_con_menos1.tif")
infraestructura[infraestructura <  1e-3] = NA
raster::plot(infraestructura)
raster::plot(viajes)
raster::plot(correlacion)
raster::plot(correlacion_dos)
infraestructura = raster::disaggregate(x = infraestructura, fact = 3)
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion))
viajes = raster::projectRaster(viajes, crs = raster::crs(proyeccion))
correlacion = raster::projectRaster(correlacion, crs = raster::crs(proyeccion))
correlacion_dos = raster::projectRaster(correlacion_dos, crs = raster::crs(proyeccion))
terra::plot(infraestructura)
##### Municipio #######
mun = sf::read_sf("../../Importantes_documentos_usar/Municipios/municipiosjair.shp")
git = imagenes_git()
mun = mun |>
dplyr::select(CVEGEO, NOM_MUN) |>
dplyr::left_join(y = git, by = c("NOM_MUN" = "nombre_principal")) |>
relocate(links, .after = NOM_MUN)
#######################
### Paletas de colores
# infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
# infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |>  terra::rast()
#
# paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
#
# leaflet() |>
#   addTiles() |>
#   addRasterImage(infraestructura, opacity = 0.7) |>
#   addRasterLegend(values = raster::values(infraestructura), pal = paleta_infraestructura,
#                   title = "Percepción infraestructuravial", position = "bottomright")
mapa = leaflet() |>
addTiles() |>
addPolygons(data = mun,
label = paste0(
"<div style='display:flex; align-items:center;'>",
"<img src='", mun$links, "' style='width:auto; height:30px; margin-right:5px;'>",
"<span>", "<b>", mun$NOM_MUN, "</b>", "</span>",
"</div>"
) |> lapply(FUN =  function(x){htmltools::HTML(x)}),
color = "black",
fillColor = "black",
fillOpacity = 0.01,
weight = 1
) |>
addRasterImage(infraestructura, opacity = 0.7, group = "Percepción infraestructuravial") |>
addRasterImage(viajes, opacity = 0.7, group = "Nivel de uso por numero de viaje") |>
addRasterImage(correlacion, opacity = 0.7, group = "Correlación Rasters") |>
addRasterImage(correlacion_dos, opacity = 0.7, group = "Correlación Rasters Modificado") |>
addLayersControl(
overlayGroups = c("Percepción infraestructuravial", "Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"),
options = layersControlOptions(collapsed = FALSE)
) |>
hideGroup(c("Nivel de uso por numero de viaje", "Correlación Rasters", "Correlación Rasters Modificado"))
mapa
htmlwidgets::saveWidget(mapa, "Mapa_web_Vialidades_Raster.html",selfcontained = T, title = "Vialidades")
View(mun)
mun$geometry |> plot()
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |>  terra::rast()
paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = raster::values(infraestructura), na.color = T)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(values = raster::values(infraestructura), pal = paleta_infraestructura,
title = "Percepción infraestructuravial", position = "bottomright")
infraestructura = raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
infraestructura = raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |>  terra::rast()
paleta_infraestructura = leaflet::colorNumeric(palette = "magma",  domain = terra::values(infraestructura), na.color = T)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(values = raster::values(infraestructura), pal = paleta_infraestructura,
title = "Percepción infraestructuravial", position = "bottomright")
library(raster)
library(terra)
library(leaflet)
library(leafem)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7) |>
addRasterLegend(values = raster::values(infraestructura), pal = paleta_infraestructura,
title = "Percepción infraestructuravial", position = "bottomright")
infraestructura <- raster::raster("Datos/j_Percepción_infraestructura_vial.tif")
# Proyectar y convertir a terra
infraestructura <- raster::projectRaster(infraestructura, crs = raster::crs(proyeccion)) |> terra::rast()
# Paleta
paleta_infraestructura <- leaflet::colorNumeric(
palette = "magma",
domain = terra::values(infraestructura),
na.color = "transparent"
)
# Mapa con leyenda
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7, colors = paleta_infraestructura) |>
leafem::addRasterLegend(
raster = infraestructura,
pal = paleta_infraestructura,
title = "Percepción infraestructura vial",
position = "bottomright"
)
# Mapa con leyenda
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7, colors = paleta_infraestructura) |>
addRasterLegend(
raster = infraestructura,
pal = paleta_infraestructura,
title = "Percepción infraestructura vial",
position = "bottomright"
)
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7, colors = paleta_infraestructura)
# Mapa con leyenda
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7, colors = paleta_infraestructura) |>
addRasterLegend(
raster = infraestructura,
pal = paleta_infraestructura,
title = "Percepción infraestructura vial",
position = "bottomright"
)
# Mapa con leyenda
leaflet() |>
addTiles() |>
addRasterImage(infraestructura, opacity = 0.7, colors = paleta_infraestructura) |>
addRasterLegend(
x = infraestructura,
pal = paleta_infraestructura,
title = "Percepción infraestructura vial",
position = "bottomright"
)
